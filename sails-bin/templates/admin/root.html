{% extends "base.html" %}
{% block title %}Root dashboard{% endblock title %}

{% block content %}
<main class="container">
  {% include "display_flash.html" %}
  <div class="bg-light p-5 rounded">
    <h1>You are now at the root dashboard</h1>
    <p class="lead">Please leave unless you fully understand what you are doing.</p>
  </div>
  <br>

  {% if users.len() > 0 %}
  <div class="bg-light p-5 rounded border border-5 border-danger">
    <h3>Users</h3>
    <table class="table" data-toggle="table" data-pagination="true" data-search="true">
      <thead>
	<tr>
	  <th data-field="id" data-sortable="true" scope="col">Email</th>
	  <th data-field="name" data-sortable="true" scope="col">Name</th>
	  <th data-field="school" data-sortable="true" scope="col">School</th>
	  <th data-field="status" data-sortable="true" scope="col">Status</th>
	  <th data-field="actions" scope="col">Actions</th>
	</tr>
      </thead>
      <tbody>
	{% for user in users %}
	<tr>
	  <th scope="row">{{user.get_id()}}</th>
	  <td>{{user.get_name()}}</td>
	  <td>{{user.get_school()}}</td>
	  <td>{{ "{:?}"|format(user.get_user_status()) }}</td>
	  <td><a href="/admin/downgrade_user?user_id={{user.get_id()}}" class="btn btn-warning" role="button">Down</a> <a href="/admin/promote_user?user_id={{user.get_id()}}" class="btn btn-primary" role="button">Up</a></td>
	</tr>
	{% endfor %}
      </tbody>
    </table>
  </div>
  <br>
  {% else %}
    <div class="bg-light p-5 rounded">
      <h3>No users</h3>
    </div>
    <br>
  {% endif %}
</main>
{% endblock content %}
